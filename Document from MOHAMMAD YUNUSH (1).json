<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MADARSA ARABIA NOORUL ULOOM - Search Result</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        /* Search Box Styling */
        #searchArea { text-align: center; padding: 50px; background: #e8f5e9; border-bottom: 5px solid #1b5e20; }
        .s-input { padding: 12px; font-size: 18px; border: 2px solid #1b5e20; border-radius: 8px; width: 200px; }
        .s-btn { padding: 12px 30px; background: #1b5e20; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; }
        #card { display: none; margin: 20px auto; } /* Shuru mein result card chhupa rahega */
    </style>
</head>
<body>

<div id="searchArea">
    <h2 style="color: #1b5e20;">MADARSA ARABIA NOORUL ULOOM</h2>
    <p>Apna Roll Number daal kar Result Check karein</p>
    <input type="text" id="rollInput" class="s-input" placeholder="Roll No...">
    <button onclick="checkResult()" class="s-btn">DEKHEIN</button>
</div>

<div id="card">
    </div>

<script>
async function checkResult() {
    let roll = document.getElementById("rollInput").value;
    if(!roll) return alert("Roll number likhein!");

    try {
        const response = await fetch('data.json');
        const students = await response.json();
        
        // Data dhundna (MADARSA ARABIA NOORUL ULOOM ke records mein)
        let s = students.find(std => std.roll.toString() === roll.toString());

        if(s) {
            // Card mein data fill karna
            document.getElementById("sname").value = s.name;
            document.getElementById("rollno").value = s.roll;
            document.getElementById("fname").value = s.fname;
            document.getElementById("mname").value = s.mname;
            document.getElementById("dob").value = s.dob;
            document.getElementById("sclass").value = s.sclass;
            document.getElementById("address").value = s.address;
            
            // Marks bharna
            s.marks.forEach((v, i) => { 
                if(document.getElementById("m"+i)) document.getElementById("m"+i).value = v; 
            });

            document.getElementById("searchArea").style.display = "none";
            document.getElementById("card").style.display = "flex";
            if(typeof calculate === "function") calculate(); // Total calculate karne ke liye
        } else {
            alert("Result nahi mila. Roll number check karein.");
        }
    } catch(e) {
        alert("Data load hone mein dikkat hai. Pehle data.json upload karein.");
    }
}
</script>
</body>
</html>
  
